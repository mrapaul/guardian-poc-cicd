# Guardian Security Platform - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# Environment
NODE_ENV=development
APP_ENV=development
LOG_LEVEL=debug

# Database Configuration
DATABASE_URL=postgresql://guardian:password@localhost:5432/guardian_dev
DATABASE_SSL=false
DATABASE_POOL_SIZE=10

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=

# Authentication & Security
JWT_SECRET=change-this-in-production-use-openssl-rand-base64-32
JWT_EXPIRY=7d
ENCRYPTION_KEY=change-this-in-production-use-openssl-rand-hex-32
SESSION_SECRET=change-this-in-production
BCRYPT_ROUNDS=10

# API Configuration
API_PORT=8080
API_HOST=0.0.0.0
API_URL=http://localhost:8080
API_RATE_LIMIT=100
API_RATE_WINDOW=15m

# Frontend Configuration
FRONTEND_PORT=3000
FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:8080
REACT_APP_API_URL=http://localhost:8080

# Scanner Configuration
SCANNER_ENABLED=true
SCANNER_QUEUE=scan-tasks
MAX_CONCURRENT_SCANS=3
SCAN_TIMEOUT=300000
NUCLEI_TEMPLATES=/app/nuclei-templates
NMAP_OPTIONS=-sV -sC -O

# DigitalOcean Configuration (Optional for local dev)
DIGITALOCEAN_ACCESS_TOKEN=
DIGITALOCEAN_REGISTRY=
DIGITALOCEAN_SPACES_KEY=
DIGITALOCEAN_SPACES_SECRET=
DIGITALOCEAN_SPACES_ENDPOINT=
DIGITALOCEAN_SPACES_BUCKET=

# Storage Configuration
STORAGE_TYPE=local
STORAGE_PATH=./uploads
STORAGE_MAX_SIZE=10485760
STORAGE_ALLOWED_TYPES=pdf,json,yaml,yml,txt,csv

# Email Configuration (Optional)
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@guardian.local
EMAIL_NOTIFICATIONS=false

# Monitoring & Observability (Optional)
SENTRY_ENABLED=false
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# OpenTelemetry (Optional)
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=guardian-platform
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp

# Feature Flags
FEATURE_NETWORK_DISCOVERY=true
FEATURE_POLICY_BUILDER=true
FEATURE_THREAT_INTELLIGENCE=true
FEATURE_COMPLIANCE_REPORTS=true
FEATURE_AUTOMATED_REMEDIATION=false
FEATURE_WEBSOCKET_UPDATES=true

# Security Headers
HELMET_ENABLED=true
CORS_ENABLED=true
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
CSP_ENABLED=true
HSTS_ENABLED=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Background Jobs
WORKER_ENABLED=true
WORKER_CONCURRENCY=2
JOB_RETENTION_DAYS=7
JOB_RETRY_ATTEMPTS=3
JOB_RETRY_DELAY=5000

# Webhook Configuration (Optional)
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_SECRET=
WEBHOOK_RETRY_ATTEMPTS=3

# External APIs (Optional)
VIRUSTOTAL_API_KEY=
SHODAN_API_KEY=
CENSYS_API_ID=
CENSYS_API_SECRET=
GITHUB_TOKEN=

# Development Tools
DEBUG=false
VERBOSE_ERRORS=true
PRETTY_LOGS=true
MOCK_SCANNER=true
HOT_RELOAD=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://guardian:password@localhost:5432/guardian_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_TIMEOUT=30000
TEST_COVERAGE=true

# Docker Configuration
DOCKER_REGISTRY=registry.digitalocean.com
DOCKER_NAMESPACE=guardian-security
COMPOSE_PROJECT_NAME=guardian-platform
COMPOSE_FILE=docker-compose.yml